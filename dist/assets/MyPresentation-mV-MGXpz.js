import{u as P,a as k,r as a,R as e}from"./index-C_DpItCy.js";import{B as C,N as j,u as T,P as O,A}from"./AccountSettingPOPUP-BnE2jaib.js";import{e as D}from"./empty-B5aoBBx5.js";import{F as L}from"./index-DaIo9BI7.js";import{M}from"./index-BUPnRRpR.js";import"./index-BFntY8cb.js";import"./iconBase-PSZohw3C.js";import"./Slogan-ClQ6RCV4.js";const Q=()=>{const{userId:y}=P(),E=k(),[c,r]=a.useState(!1),[m,d]=a.useState(!1),[x,f]=a.useState(!1),[l,u]=a.useState([]),[p,i]=a.useState([]),[g,h]=a.useState(!1),[n,N]=a.useState(""),b=async()=>{if(!g){h(!0);try{const t=await fetch("https://quizidy-backend.duckdns.org/handleQuestions/GetPresentations?page=1&limit=10",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:y})}),s=await t.json();t.ok&&(u(s.presentations),i(s.presentations))}catch(t){console.error("Error fetching presentations:",t)}finally{h(!1)}}};a.useEffect(()=>{b()},[]),a.useEffect(()=>{const t=setTimeout(()=>{if(!n.trim())i(l);else{const s=l.filter(o=>o.title?.toLowerCase().includes(n.toLowerCase()));i(s)}},300);return()=>clearTimeout(t)},[n,l]);const v=t=>{E(`/App/AdminPanel/Presentation/${t}`)},w=async t=>{try{(await fetch("https://quizidy-backend.duckdns.org/handleQuestions/DeletePresenation",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentationId:t})})).ok&&u(o=>o.filter(S=>S._id!==t))}catch(s){console.error("Error deleting presentation:",s)}};return g?e.createElement("div",{className:"w-full h-screen flex justify-center items-center bg-white"},e.createElement("div",{className:"w-12 h-12 border-4 border-t-indigo-500 border-gray-300 rounded-full animate-spin"})):e.createElement("main",{className:"w-full min-h-screen bg-stone-50 text-gray-800 font-[Outfit] overflow-hidden"},e.createElement("div",{className:"w-full flex justify-end mt-7 pr-7 items-center"},e.createElement("div",{className:"flex h-full mr-5 items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement("div",{onClick:()=>{d(!m),r(!1)},className:"h-8 w-8 rounded-full flex justify-center items-center bg-stone-200 hover:bg-stone-300 cursor-pointer transition"},e.createElement("img",{src:C,className:"w-3",alt:"Bell"})),e.createElement(j,{display:m})),e.createElement("div",{className:"relative"},e.createElement("div",{className:"h-8 w-8 bg-indigo-300 hover:bg-indigo-400 transition cursor-pointer rounded-full flex justify-center items-center",onClick:()=>{r(!c),d(!1)}},e.createElement("img",{src:T,className:"w-4",alt:"User"})),e.createElement(O,{display:c,onClose:()=>r(!1),setSettingState:f})))),e.createElement("div",{className:"w-full flex flex-col pl-6 pr-6 sm:pl-10 sm:pr-10 pt-10"},e.createElement("h1",{className:"text-3xl font-semibold font-Outfit text-gray-800 tracking-tight mb-2"},"My Presentations"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"All your saved presentations at a glance"),e.createElement("div",{className:"flex items-center gap-2 mb-8 w-full sm:w-[60%] md:w-[45%]"},e.createElement("input",{type:"text",className:"h-9 w-full text-sm pl-3 rounded-[7px] font-Outfit bg-stone-200 text-[11px] placeholder-gray-600 outline-none focus:ring-1 focus:ring-indigo-400",placeholder:"Search Presentations",value:n,onChange:t=>N(t.target.value)})),p.length===0?e.createElement("div",{className:"font-Outfit h-full flex flex-col gap-3 text-2xl mt-20 w-full justify-center items-center"},e.createElement("img",{src:D,alt:"Empty",className:"h-28 opacity-90"}),e.createElement("h1",{className:"inline text-gray-500 text-lg"},"No Presentations Found")):e.createElement("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 mt-4 pb-10"},p.map(t=>e.createElement("div",{key:t._id,className:"group relative border border-stone-200 bg-white/70 backdrop-blur-sm rounded-xl p-4 hover:border-indigo-300 transition-colors duration-200"},e.createElement("div",{className:"cursor-pointer",onClick:()=>v(t._id)},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement("div",{className:"h-5 w-5 rounded-full bg-indigo-100 flex items-center justify-center"},e.createElement(L,{className:"text-[8px] text-indigo-600"})),e.createElement("h2",{className:"text-base font-medium text-gray-800 truncate"},t.title)),e.createElement("div",{className:"flex flex-col text-sm text-gray-500"},e.createElement("span",null,"Created by: Me"),e.createElement("span",null,new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})))),e.createElement("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:()=>w(t._id)},e.createElement(M,{size:18})))))),e.createElement("div",{className:`w-screen bg-black/70 absolute transition-all ease-in-out duration-300 top-0 left-0 h-screen flex justify-center items-center ${x?"opacity-100 pointer-events-auto":"pointer-events-none opacity-0 "}`},e.createElement(A,{onClose:()=>f(!1)})))};export{Q as default};
