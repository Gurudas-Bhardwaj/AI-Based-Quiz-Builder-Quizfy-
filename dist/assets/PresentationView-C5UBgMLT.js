import{c as U,a as _,R as e,C as Re,g as Le,U as De,h as Fe,r as t,f as V,i as Qe,G as _e,j as ue,S as fe,T as Ie,l as Je,k as He,u as Ve,N as Ue,I as We,n as Ye,o as Ze,B as Xe,p as Ke}from"./index-es2nNZ9l.js";import{R as et,L as tt,a as at,G as ie}from"./index-C4THLYYr.js";import{c as pe,d as xe,b as ge,e as st}from"./index-BdGVI7FM.js";import{t as nt,C as ce}from"./Templates-DzGb2Jqd.js";import{I as be}from"./index-CJ8WaUJk.js";import{S as he,C as Ee,a as Ne}from"./index-BuM_O9lf.js";import{X as lt}from"./x-DVFZl4CE.js";import{H as rt,a as ot}from"./index-B5kBvYPb.js";import{B as it}from"./ReportBug-lRXmtXau.js";import{F as ct}from"./index-oAVH3PF_.js";import{E as mt}from"./eye-DX68yHiI.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],me=U("arrow-right",dt);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],de=U("crown",ut);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pt=U("radio",ft);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gt=U("sparkles",xt),bt=({onClose:a,isVisible:s,presentationId:c})=>{const n=_(),i=()=>{n(`/AdminControlled/Quiz/Live/${c}`)},o=()=>{n(`/UserControlled/Quiz/Live/${c}`)};return e.createElement("div",{className:`fixed inset-0 flex items-center justify-center transition-all duration-500 ease-out ${s?"opacity-100 ":"opacity-0 pointer-events-none"} bg-black/60`},e.createElement("div",{className:"relative bg-white/90 rounded-3xl pt-4 pr-8 pl-8 pb-8 w-[95vw] max-w-xl shadow-2xl border-2 border-indigo-200 backdrop-blur-md animate-fadeIn max-h-[630px] overflow-auto ",style:{scrollbarWidth:"none",msOverflowStyle:"none"}},e.createElement("div",{className:"flex w-full justify-end"},e.createElement(Re,{onClick:a,className:"rotate-45 cursor-pointer text-red-500 hover:bg-red-100 rounded-full transition p-1",size:32})),e.createElement("div",{className:"flex flex-col items-center mb-8"},e.createElement("span",{className:"flex items-center justify-center mb-2"},e.createElement(Le,{className:"text-indigo-400 text-3xl animate-bounce mr-2"}),e.createElement(gt,{className:"text-pink-400",size:28})),e.createElement("h2",{className:"text-3xl md:text-4xl font-extrabold font-Outfit text-center bg-gradient-to-r from-indigo-400 via-pink-400 to-purple-700 text-transparent bg-clip-text drop-shadow-lg tracking-tight"},"Go Live!"),e.createElement("p",{className:"text-center text-gray-500 mt-2 text-base font-Outfit"},"Choose how you want to run your quiz session")),e.createElement("div",{className:"space-y-7 font-Outfit"},e.createElement("div",{onClick:i,className:"group p-6 border-2 border-indigo-200 flex justify-center items-center flex-col rounded-2xl cursor-pointer hover:shadow-2xl hover:scale-[1.03] transition bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100 relative overflow-hidden"},e.createElement("span",{className:"absolute -top-6 -right-6 opacity-20 text-indigo-300 text-8xl pointer-events-none select-none"},e.createElement(de,{size:80})),e.createElement("h3",{className:"font-bold text-lg flex items-center gap-2 text-indigo-700 mb-1"},e.createElement(de,{className:"text-yellow-400",size:24})," Admin Controlled Quiz"),e.createElement("p",{className:"w-[90%] flex justify-center items-center text-center text-gray-600 text-sm"},"A quiz fully controlled by the Admin. Admin switches questions & controls flow."),e.createElement("span",{className:"mt-3 flex items-center gap-1 text-xs text-indigo-500 font-semibold group-hover:underline"},"Go as Admin ",e.createElement(me,{size:16}))),e.createElement("div",{className:"flex items-center gap-2 my-4"},e.createElement("div",{className:"flex-grow h-[1px] bg-gradient-to-r from-indigo-200 via-pink-200 to-purple-200"}),e.createElement("span",{className:"text-gray-500 text-sm px-2 py-1 bg-gray-100 rounded-full shadow-sm font-Outfit"},"or"),e.createElement("div",{className:"flex-grow h-[1px] bg-gradient-to-r from-indigo-200 via-pink-200 to-purple-200"})),e.createElement("div",{onClick:o,className:"group p-6 flex flex-col justify-center items-center border-2 border-green-200 rounded-2xl cursor-pointer opacity-70 bg-gradient-to-r from-blue-100 via-green-100 to-teal-100 relative overflow-hidden  hover:shadow-2xl hover:scale-[1.03] transition-all ease-in-out duration-75"},e.createElement("span",{className:"absolute -top-6 -left-6 opacity-20 text-green-300 text-8xl pointer-events-none select-none"},e.createElement(De,{size:80})),e.createElement("h3",{className:"font-bold text-lg w-full justify-center flex items-center gap-2 text-green-700 mb-1"},e.createElement(Fe,{className:"text-green-400",size:22})," User Controlled Quiz"),e.createElement("p",{className:"text-gray-600 w-[90%] flex text-center justify-center text-sm"},"Users can answer freely at their own pace. Admin sees live results only."),e.createElement("span",{className:"mt-3 flex items-center gap-1 text-xs text-green-500 font-semibold group-hover:underline"},"Go as Viewer ",e.createElement(me,{size:16}))))),e.createElement("style",null,`
                @keyframes fadeIn {
                  0% { opacity: 0; transform: scale(0.95); }
                  100% { opacity: 1; transform: scale(1); }
                }
                .animate-fadeIn {
                  animation: fadeIn 0.7s cubic-bezier(0.4,0,0.2,1);
                }
            `))},ht=({localQuestion:a,localOptions:s,handleColorChange:c,handleOptionChange:n,updateQuestion:i,deleteOption:o,addOption:u,designType:l,questionId:y,previewUrl:p,setPreviewUrl:v,Description:C,setDescription:w,setStatus:N,setShowPopUp:h,setDetails:g,setLocalOptions:j})=>{const[O,S]=t.useState(null),[M,T]=t.useState(null),q=t.useRef(null),$=f=>{const m=f.target.files[0];if(T(m||null),S(m?m.name:null),m){const E=new FileReader;E.onloadend=()=>{v(E.result)},E.readAsDataURL(m)}},L=()=>{q.current&&q.current.click()},D=async()=>{if(!M){N(!1),g("Please select a file first!"),h(!0),setTimeout(()=>h(!1),3e3);return}const f=new FormData;f.append("image",M),f.append("questionId",y);try{const m=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/uploadImage",{method:"POST",body:f}),E=await m.json();console.log(E),m.ok?(N(!0),g("Image Uploaded Successfully!"),h(!0),v(E.question.Image),S(null),setTimeout(()=>h(!1),3e3)):(N(!1),g(E.Message),h(!0),setTimeout(()=>h(!1),3e3))}catch(m){console.log(m),N(!0),g("Unexpected error occured! Please try again later"),h(!0),setTimeout(()=>h(!1),3e3)}},F=t.useRef(null);t.useEffect(()=>{F.current=C},[C]);const P=t.useRef(null),b=f=>{const m=f.target.value;w(m),P.current&&clearTimeout(P.current),P.current=setTimeout(async()=>{console.log("send");const E=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/question/description",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({questionId:y,description:F.current})}),B=await E.json();console.log(B),E.ok&&(N(!0),g("Description Updated Successfully"),h(!0),setTimeout(()=>{h(!1)},2e3))},2e3)},Q=async()=>{const f=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/deleteImage",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({questionId:y})}),m=await f.json();console.log(m),f.ok&&(v(null),N(!0),g("Image Deleted Successfully"),h(!0),setTimeout(()=>{h(!1)},2e3))},k=async f=>{const m=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/question/correctOption",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:y,optionId:f})}),E=await m.json();console.log(E),m.ok?(j(E.question.options),N(!0),g("Successfully marked as corrected"),h(!0),setTimeout(()=>{h(!1)},2e3)):(N(!1),g(E.message),h(!0),setTimeout(()=>{h(!1)},2e3))};return e.createElement("section",{className:`\r
    w-full md:bg-transparent\r
    fixed md:static\r
    left-1/2 md:left-0\r
    top-5 md:top-0\r
    transform md:transform-none\r
    -translate-x-1/2 md:translate-x-0\r
    z-50 md:z-auto\r
    flex justify-center\r
    md:w-[24%]\r
    md:h-auto\r
  `},e.createElement("div",{className:`\r
      w-[90%] sm:w-[85%] md:w-full\r
      max-w-md md:max-w-none\r
      h-[85vh] md:h-[96%] md:mt-6\r
      bg-white/95 md:bg-white\r
      backdrop-blur-sm\r
      border border-stone-300\r
      shadow-lg md:shadow-none\r
      rounded-2xl\r
      flex flex-col\r
      gap-6\r
      overflow-y-auto\r
      p-4 md:p-0\r
    `},e.createElement("div",{className:"flex pt-3 pl-2 pr-3 justify-between items-center sticky top-0 bg-white z-10 border-b border-stone-200"},e.createElement("h1",{className:"flex gap-2 items-center text-lg md:text-xl font-semibold font-Outfit text-indigo-400"},e.createElement(pe,null)," Editing Section")),e.createElement("div",{className:"px-2 md:px-4 pb-6"},e.createElement("h2",{className:"font-Outfit font-semibold text-stone-600 mb-1 text-sm md:text-base"},"Edit Question:"),e.createElement("input",{onChange:f=>i(f.target.value),type:"text",value:a,className:"h-9 w-full border border-stone-300 bg-stone-100 focus:bg-white focus:border-indigo-400 font-Outfit pl-2 text-sm rounded-lg transition-all duration-200",placeholder:"Enter your question"}),e.createElement("div",{className:"h-px w-full bg-stone-200 my-4"}),e.createElement("h3",{className:"text-sm font-Outfit font-semibold mb-2 text-stone-600"},"Edit Options:"),e.createElement("div",{className:"flex flex-col gap-3"},s.map((f,m)=>e.createElement("div",{key:f._id,className:"relative flex items-center gap-2"},l==="quiz"&&e.createElement("input",{type:"radio",className:"absolute top-2 right-8 w-4 h-4 accent-indigo-400 cursor-pointer",onClick:()=>k(f._id),checked:f.answer}),e.createElement("input",{value:f.text,onChange:E=>n(m,E.target.value),type:"text",placeholder:`Option ${m+1}`,className:"h-8 w-[70%] border border-stone-300 bg-stone-100 focus:bg-white focus:border-indigo-400 font-Outfit pl-8 text-sm rounded-lg transition-all"}),e.createElement("label",{className:"absolute top-[6px] left-[6px] h-5 w-5 rounded-full border border-gray-300 cursor-pointer",style:{backgroundColor:f.color}},e.createElement("input",{type:"color",value:f.color,onChange:E=>c(m,E.target.value),className:"opacity-0 absolute w-full h-full cursor-pointer"})),e.createElement("div",{onClick:()=>o(f._id),className:"p-[6px] bg-stone-300 hover:bg-red-500 rounded-2xl cursor-pointer text-white transition-all"},e.createElement(et,{size:14})))),e.createElement("div",{className:"mt-3 flex justify-center"},e.createElement("button",{onClick:u,className:"px-5 py-2 bg-indigo-400 hover:bg-indigo-500 text-white rounded-2xl font-Outfit text-sm transition-all"},"Add an Option"))),e.createElement("div",{className:"h-px w-full bg-stone-200 my-4"}),e.createElement("div",{className:"mt-6"},e.createElement("h2",{className:"font-Outfit font-semibold text-stone-600 mb-1"},"Ask question By Image :"),e.createElement("p",{className:"font-Outfit text-sm text-black pt-2"},"You can provide an image also (optional):"),e.createElement("p",{className:"font-Outfit text-xs text-stone-600 pb-2"},"Max Size: 10MB (JPG/PNG/JPEG)"),p?e.createElement("div",{className:"w-full h-56 rounded-xl overflow-hidden border border-indigo-400 flex items-center justify-center relative"},e.createElement("img",{src:p,alt:"Preview",className:"w-full h-full object-contain"}),e.createElement("button",{onClick:Q,className:"absolute bottom-2 right-[90px] font-Outfit cursor-pointer bg-red-500 text-white px-3 py-1 rounded-xl text-xs sm:text-sm"},"Delete"),e.createElement("button",{onClick:L,className:"absolute bottom-2 right-2 font-Outfit cursor-pointer bg-indigo-400 text-white px-3 py-1 rounded-xl text-xs sm:text-sm"},"Change"),e.createElement("input",{type:"file",accept:"image/*",className:"hidden",ref:q,onChange:$})):e.createElement("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-indigo-400 bg-indigo-400 text-white rounded-xl cursor-pointer transition hover:bg-indigo-500"},e.createElement("div",{className:"flex flex-col items-center justify-center pt-5 pb-6"},e.createElement("svg",{className:"w-8 h-8 mb-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.2 5.02A4 4 0 0 0 5 13h2.2M10 15V6m0 0L8 8m2-2 2 2"})),e.createElement("p",{className:"text-sm font-Outfit"},e.createElement("span",{className:"font-semibold"},"Click to upload")," or drag and drop"),e.createElement("p",{className:"text-xs font-Outfit"},"JPG, PNG, JPEG supported")),e.createElement("input",{id:"dropzone-file",type:"file",accept:"image/*",className:"hidden",onChange:$})),e.createElement("p",{className:"text-xs font-Outfit text-stone-600 mt-2"},O?`Selected File: ${O}`:"No file selected"),e.createElement("div",{className:"w-full flex justify-center items-center"},e.createElement("button",{onClick:D,className:"mt-3 px-5 py-2 cursor-pointer bg-indigo-400 hover:bg-indigo-500 text-white rounded-xl font-Outfit text-sm transition-all"},"Upload Image"))),l==="quiz"&&e.createElement("div",{className:"w-full flex flex-col pt-3"},e.createElement("div",{className:"h-px w-full bg-stone-200 my-4"}),e.createElement("h2",{className:"font-Outfit font-semibold text-stone-600 mb-1"},"Add Reasoning:"),e.createElement("h4",{className:"font-Outfit text-sm text-stone-600 mb-1 mt-2"},"Explain why an option is correct or incorrect."),e.createElement("input",{onChange:f=>b(f),type:"text",value:C,className:"h-8 w-full border border-stone-300 bg-stone-100 focus:bg-white focus:border-indigo-400 font-Outfit pl-2 text-sm rounded-lg transition-all",placeholder:"Enter your reasoning"})))))},Et=({designTemplate:a,changeDesignTemplate:s,deletePopUp:c,presentationName:n,updatePresentationName:i})=>{const[o,u]=t.useState(n||"");return t.useEffect(()=>{u(n||"")},[n]),e.createElement("section",{className:"w-[90%] md:w-[10%] lg:w-[24%] h-full absolute md:static flex justify-center "},e.createElement("div",{className:"w-full h-auto flex justify-center gap-2"},e.createElement("div",{className:"bg-white  pb-10 overflow-auto mt-6 border border-white rounded-2xl w-full flex flex-col gap-6"},e.createElement("div",{className:"h-auto flex justify-center w-full items-center"},e.createElement("div",{className:"flex pt-5 pl-2 pr-4 justify-between w-full items-center "},e.createElement("h1",{className:"flex gap-2 pl-2 justify-center text-xl font-semibold items-center text-indigo-400 font-Outfit"},e.createElement(pe,null),"Edit Slide  "))),e.createElement("div",{className:"w-full flex flex-col pl-6 "},e.createElement("div",{className:"w-full flex flex-col"},e.createElement("h1",{className:"w-full font-Outfit text-gray-500 font-semibold flex gap-2 justify-start items-center"},"Edit Presentation Name :")),e.createElement("div",null,e.createElement("input",{value:o,type:"text",onChange:l=>i(l.target.value),className:"h-8 w-[95%] mt-1 mb-3 border border-stone-300 bg-stone-200 focus:bg-white focus:border-indigo-400 font-Outfit pl-2 text-sm rounded-lg"}))),e.createElement("div",{className:"w-full flex flex-col pl-6"},e.createElement("p",{className:" font-Outfit text-gray-500 font-semibold"},"Change Template : "),e.createElement("div",{className:"w-[90%]  h-1 border-b-2 mb-2 border-stone-300"}),e.createElement("div",{className:"w-full  pr-2"},e.createElement("div",{className:"grid grid-cols-2 gap-3 place-content-center"},nt.map(l=>e.createElement("div",{key:l.id,onClick:()=>s(l.className),className:`w-full h-20 bg-cover border-2 rounded-xl bg-center cursor-pointer ${a==l.className?"border-indigo-400":"border-white"} ${l.className}`}))))),e.createElement("div",{className:"w-full flex justify-center items-center pt-3"},e.createElement("button",{onClick:c,className:"font-Outfit p-3 bg-red-500 rounded-2xl cursor-pointer text-white"},"Delete this Slide!")))))},Nt=({AddAdminFun:a,listOfAdmin:s,deleteAddedAdmin:c})=>{const[n,i]=t.useState(""),[o,u]=t.useState(!1),l=o&&n.trim().endsWith("@gmail.com"),y=()=>{l&&(a(n),i(""),u(!1))};return e.createElement("div",{className:"w-[100%] lg:w-[24%] h-full absolute md:static flex justify-center items-center"},e.createElement("div",{className:"w-[90%] flex justify-center rounded-2xl h-full items-center"},e.createElement("div",{className:"bg-white h-[97%] mr-3 pb-10 overflow-auto mt-6 border border-stone-300 rounded-2xl w-full flex flex-col"},e.createElement("div",null,e.createElement("h1",{className:"flex font-Outfit pt-3 pl-2 font-semibold items-center text-indigo-400 text-2xl gap-2"},e.createElement(xe,null)," Admin Panel:")),e.createElement("div",{className:"font-Outfit min-h-[280px] w-full pt-4 pl-4"},e.createElement("div",{className:"w-full h-full flex flex-col gap-4"},e.createElement("h1",{className:"font-semibold text-indigo-400"},"Admins Other than you:"),e.createElement("div",{className:"w-full h-[90%] overflow-auto flex flex-col gap-3"},s&&s.length>0?s.map((p,v)=>e.createElement("div",{key:v,className:"flex justify-between items-center bg-stone-50 p-3 rounded-lg shadow-sm border border-stone-300"},e.createElement("div",{className:"flex flex-col"},e.createElement("p",{className:"font-Outfit text-sm text-stone-600"},p.userName),e.createElement("p",{className:"font-Outfit text-xs text-stone-400"},p.userGmail)),e.createElement(be,{size:18,className:"cursor-pointer text-red-400 hover:text-red-600",onClick:()=>c(p.userId,p._userName)}))):e.createElement("p",{className:"text-stone-500 text-sm"},"No admins found.")))),e.createElement("div",{className:"w-[90%] border-t-2 border-stone-300 mt-4 mb-2 h-1 ml-4"}),e.createElement("div",{className:"w-full pl-4"},e.createElement("h1",{className:"font-semibold font-Outfit text-indigo-400"},"Add Admin:"),e.createElement("div",{className:"pt-3 flex flex-col gap-2"},e.createElement("div",{className:"flex flex-col font-Outfit"},e.createElement("label",{htmlFor:"email",className:"text-sm pl-1 text-stone-600"},"Email of Admin:"),e.createElement("input",{value:n,onChange:p=>i(p.target.value),type:"email",name:"email",id:"email",placeholder:"admin@gmail.com",className:"h-8 w-[90%] pl-2 rounded-2xl bg-stone-200"})),e.createElement("div",{className:"pt-2 pl-2 flex gap-1 items-center"},e.createElement("input",{type:"checkbox",onChange:()=>u(!o),checked:o,id:"permission",className:"border mt-1 accent-indigo-400 cursor-pointer hover:accent-indigo-600 rounded-2xl h-4 w-4"}),e.createElement("label",{htmlFor:"permission",className:"cursor-pointer font-Outfit text-sm text-stone-600"},"I accept to create this person the admin of this presentation!")),e.createElement("p",{className:"text-sm font-Outfit text-stone-500 mt-2"},"After creating someone admin, they can directly access and manipulate this presentation. The given email must be registered with us."),e.createElement("div",{className:"w-full flex justify-center items-center mt-2"},e.createElement("button",{onClick:y,disabled:!l,className:`pt-1 pb-1 pl-5 pr-5 font-Outfit rounded-2xl text-white flex justify-center items-center transition-all duration-200 ${l?"bg-indigo-400 hover:bg-indigo-500 cursor-pointer":"bg-gray-400 cursor-not-allowed"}`},"Submit")))))))},vt=({onClose:a,isVisible:s,presentationId:c})=>{const[n,i]=t.useState(!1),[o,u]=t.useState(!1),[l,y]=t.useState(null),[p,v]=t.useState(null),C=_(),w=async()=>{if(l&&p){const g="Question will be displayed here!",j=[{text:"Option A",color:"#FF0000"},{text:"Option B",color:"#00FF00",answer:!0},{text:"Option C",color:"#0000FF"},{text:"Option D",color:"#FFA500"}];try{const O=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/addQuestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:g,options:j,designTemplate:p,presentationId:c,designType:l})}),S=await O.json();O.ok&&(a(),C(`/App/AdminPanel/Presentation/${c}/${S.id}`)),console.log(c)}catch(O){console.log("error",O)}}},N=[{id:"quiz",icon:e.createElement(he,{className:"text-orange-400"}),label:"Quiz"},{id:"poll",icon:e.createElement(ge,{className:"text-blue-400",size:16}),label:"Poll"},{id:"ranking",icon:e.createElement(Ee,{color:"indigo",size:14}),label:"Ranking"},{id:"pie",icon:e.createElement(Ne,{color:"blue",size:14}),label:"Pie"},{id:"donut",icon:e.createElement(Qe,{className:"text-emerald-400",size:16}),label:"Donut"}],h=[{id:"BG-1",className:"bg-BG-1"},{id:"BG-2",className:"bg-BG-2"},{id:"BG-3",className:"bg-BG-3"},{id:"BG-4",className:"bg-BG-4"},{id:"BG-5",className:"bg-BG-5"},{id:"BG-6",className:"bg-BG-6"},{id:"BG-7",className:"bg-BG-7"},{id:"BG-8",className:"bg-BG-8"},{id:"BG-9",className:"bg-BG-9"},{id:"BG-10",className:"bg-BG-10"},{id:"BG-11",className:"bg-BG-11"},{id:"BG-12",className:"bg-BG-12"},{id:"BG-13",className:"bg-BG-13"},{id:"BG-14",className:"bg-BG-14"},{id:"BG-15",className:"bg-BG-15"},{id:"BG-16",className:"bg-BG-16"}];return e.createElement("section",{className:`flex transition-all duration-500 ease-out  h-auto w-92 relative  flex-col ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4  pointer-events-none"}`},e.createElement("div",{className:" -top-4 left-10 absolute"},e.createElement(V,{className:"text-2xl text-white"})),e.createElement("div",{className:"flex w-full pl-4 pb-5 rounded-xl bg-white flex-col"},e.createElement("div",{className:"w-full pt-3"},e.createElement("div",{className:"w-full flex justify-end pr-3"},e.createElement(lt,{size:16,onClick:a,className:"hover:text-gray-400 cursor-pointer"}))),e.createElement("div",{className:"h-[450px] overflow-auto"},e.createElement("div",{className:"flex gap-2 items-center"},e.createElement("p",{className:"font-Outfit text-xs text-gray-600"},"Interactive questions"),e.createElement(ce,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),size:15,className:"text-gray-600 cursor-pointer"})),e.createElement("div",{className:`absolute flex-col left-0 z-50 gap-0 transition-all duration-500 ease-out ${n?"opacity-100 translate-y-0 flex":"opacity-0 translate-y-4 pointer-events-none"}`},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute pl-32"},e.createElement(V,{className:"text-2xl  text-black"})),e.createElement("div",{className:"absolute top-4 h-8 w-96 flex justify-center items-center rounded-2xl text-white bg-black font-Outfit"},e.createElement("p",{className:"text-xs"},"Get real-time input from your audience with these question formats.")))),e.createElement("div",{className:"grid grid-cols-2 gap-2 mt-2"},N.map(g=>e.createElement("div",{key:g.id,onClick:()=>y(g.id),className:`flex h-7 hover:bg-gray-200 gap-1 border-2 p-3 cursor-pointer items-center rounded-2xl 
                  ${l===g.id?"border-indigo-400":"border-transparent"}`},g.icon,e.createElement("p",{className:"font-Outfit text-xs"},g.label)))),e.createElement("div",{className:"mt-4 flex gap-2 items-center"},e.createElement("p",{className:"font-Outfit text-xs  text-gray-600"},"Templates"),e.createElement(ce,{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),size:15,className:"text-gray-600 cursor-pointer"})),e.createElement("div",{className:`absolute flex-col left-0 z-50 gap-0 transition-all duration-500 ease-out ${o?"opacity-100 translate-y-0 flex":"opacity-0 translate-y-4 pointer-events-none"}`},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute pl-[75px]"},e.createElement(V,{className:"text-2xl  text-black"})),e.createElement("div",{className:"absolute top-4 h-8 w-80 flex justify-center items-center rounded-2xl text-white bg-black font-Outfit"},e.createElement("p",{className:"text-xs"},"Choose a template and make the slide more Interactive")))),e.createElement("div",{className:"grid grid-cols-2 gap-2 mt-4 pr-4"},h.map(g=>e.createElement("div",{key:g.id,onClick:()=>v(g.className),className:` ${g.className} border-2 ${p===g.className?"border-indigo-400":"border-white"} w-full h-20 bg-center bg-cover cursor-pointer`}))),e.createElement("div",{className:"w-full mt-3 flex justify-center items-center"},e.createElement("button",{onClick:w,disabled:!l||!p,className:`${l&&p?"bg-indigo-400 cursor-pointer":"bg-gray-300 cursor-not-allowed"} text-sm font-Sora pt-1 pb-1 pl-5 pr-5 text-white rounded-2xl`},"Create")))))};function yt(a){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 2H8C4.691 2 2 4.691 2 8v13a1 1 0 0 0 1 1h13c3.309 0 6-2.691 6-6V8c0-3.309-2.691-6-6-6zM8.999 17H7v-1.999l5.53-5.522 1.999 1.999L8.999 17zm6.473-6.465-1.999-1.999 1.524-1.523 1.999 1.999-1.524 1.523z"},child:[]}]})(a)}const H=({isVisible:a,value:s})=>e.createElement("div",{className:`absolute flex-col left-0 z-50 gap-0 transition-all duration-500 ease-out ${a?"opacity-100 translate-y-0 flex":"opacity-0 translate-y-4 pointer-events-none"}`},e.createElement("div",{className:"absolute top-[-40px] left-1/2 transform -translate-x-1/2 px-3 py-1 flex justify-center items-center rounded-2xl text-white bg-black font-space font-semibold whitespace-nowrap z-10"},e.createElement("p",{className:"text-base"},s)),e.createElement("div",{className:"absolute top-[-18px] left-1/2 transform "},e.createElement(V,{className:"text-2xl rotate-180 text-black"}))),wt=({editingSection:a,setEditingSection:s})=>{const[c,n]=t.useState(!1),[i,o]=t.useState(!1),[u,l]=t.useState(!1),[y,p]=t.useState(!1);return e.createElement("div",{className:"w-full h-full flex justify-center items-center"},e.createElement("div",{className:"flex justify-center items-center gap-4"},e.createElement("div",{className:`relative p-3 cursor-pointer border-white ${a=="editQuestions"?"bg-indigo-400 text-white":"bg-white text-black"} rounded-full`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>s("editQuestions")},e.createElement("div",{className:"absolute top-4 left-[30%]"},e.createElement(H,{isVisible:c,value:"Edit the Information of Current Slide"})),e.createElement(yt,{className:"text-5xl"})),e.createElement("div",{className:`relative p-3 cursor-pointer border-white ${a=="slideEditing"?"bg-indigo-400 text-white":"bg-white text-black"} rounded-full`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>s("slideEditing")},e.createElement("div",{className:"absolute top-4 left-[30%]"},e.createElement(H,{isVisible:i,value:"Edit the Layout of Current Slide"})),e.createElement(rt,{className:"text-5xl"})),e.createElement("div",{className:`relative p-3 cursor-pointer border-white ${a=="addAdmin"?"bg-indigo-400 text-white":"bg-white text-black"} rounded-full`,onClick:()=>s("addAdmin"),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},e.createElement("div",{className:"absolute top-4 left-[30%]"},e.createElement(H,{isVisible:u,value:"Create Custom Admin for this Presentation"})),e.createElement(xe,{className:"text-5xl"})),e.createElement("div",{className:`relative p-3 cursor-pointer border-white ${a=="none"?"bg-indigo-400 text-white":"bg-white text-black"} rounded-full`,onClick:()=>s("none"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1)},e.createElement("div",{className:"absolute top-4 left-[30%]"},e.createElement(H,{isVisible:y,value:"Hide Slide Section"})),e.createElement(st,{className:"text-5xl"}))))},kt=({designTemplate:a,localOptions:s,localQuestion:c})=>e.createElement("section",{className:" h-[85vh] md:h-[550px] flex-1 justify-center transition-all ease-in-out duration-300"},e.createElement("div",{className:"w-full h-full pl-2 pr-2 flex flex-col mt-6 items-center "},e.createElement("div",{className:`h-[100%] bg-cover bg-center ${a} w-[95%] text-white`},e.createElement("div",{className:"w-full h-[10%] text-black font-Outfit text-2xl pt-7 pl-7"},e.createElement("h1",null,"Q) ",c)),e.createElement("div",{className:"w-full flex justify-center  items-center h-[90%]"},e.createElement("div",{className:"w-[99%] md:w-[85%] flex justify-center items-center  gap-4 h-[70%]"},s.map((n,i)=>e.createElement("div",{key:i,className:"w-full h-full font-Outfit flex flex-col justify-end items-center"},e.createElement("div",null,e.createElement("p",{className:"text-black"},n.votes)),e.createElement("div",{className:"bg-indigo-400 h-[2%] w-[100%] md:w-[80%]",style:{backgroundColor:n.color}}),e.createElement("div",{className:"w-[100%] md:w-[80%] mt-1 text-center text-white text-sm bg-black flex justify-center items-center"},e.createElement("p",{className:" inline font-Outfit"},n.text))))))))),Ct=({designTemplate:a,localOptions:s,localQuestion:c})=>(console.log(a),e.createElement("section",{className:"h-[85vh] w-full md:h-[550px] flex-1 pr-2 pl-2 justify-center transition-all ease-in-out duration-300"},e.createElement("div",{className:"w-full h-full flex flex-col mt-6 items-center "},e.createElement("div",{className:`h-[98%]  w-full md:w-[95%] bg-cover bg-center ${a}`},e.createElement("div",{className:"w-full min-h-[30%] font-Outfit text-2xl pt-7 pl-12"},e.createElement("h1",null,"Q) ",c)),e.createElement("div",{className:"w-full pb-28 flex mt hidden-lg:5 justify-center"},e.createElement("div",{className:"w-[90%]  font-Outfit flex flex-col justify-start gap-4 "},s.map((n,i)=>e.createElement("div",{key:n._id,className:"w-full  flex gap-1"},e.createElement("div",{className:"w-[3%]"},i+1,")"),e.createElement("div",{className:"w-[60%] md:w-[90%] flex gap-2"},e.createElement("div",{className:"w-[1%] h-full",style:{backgroundColor:n.color}}),e.createElement("div",null,n.text)))))))))),jt=({designTemplate:a,localOptions:s,localQuestion:c})=>{const i=o=>o.length<=15?o:o.slice(0,15)+"...";return e.createElement("section",{className:"h-[550px] flex-1 justify-center transition-all ease-in-out duration-300"},e.createElement("div",{className:"w-full h-full pl-2 pr-2  flex flex-col mt-6 items-center "},e.createElement("div",{className:`h-[100%] bg-cover bg-center ${a} w-[100%] text-white`},e.createElement("div",{className:"w-full h-[10%] text-black font-Outfit text-2xl pt-7 pl-7"},e.createElement("h1",null,"Q) ",c)),e.createElement("div",{className:"w-full flex justify-center  items-center h-[90%]"},e.createElement("div",{className:"w-[99%] md:w-[85%] flex justify-center items-center  gap-2 md:gap-4 h-[70%]"},s.map((o,u)=>e.createElement("div",{key:u,className:"w-full h-full font-Outfit flex flex-col justify-end items-center"},e.createElement("div",null,e.createElement("p",{className:"text-black"},o.votes)),e.createElement("div",{className:"bg-indigo-400 h-[2%] w-[100%] md:w-[80%]",style:{backgroundColor:o.color}}),e.createElement("div",{className:"w-[100%] md:w-[80%] min-h-6 mt-1 text-center text-white text-sm bg-black flex justify-center items-center"},e.createElement("p",{className:" inline  font-Outfit"},i(o.text))))))))))},Ot=({onClose:a,questionId:s,setQuestion:c,setDisplay:n,setDetails:i,setStatus:o,presenetationId:u})=>{const l=_(),y=async()=>{console.log(s);const p=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/deleteSlide",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:s})}),v=await p.json();p.ok?(c(C=>C.filter(w=>w._id!==s)),a(),l(`/App/AdminPanel/Presentation/${u}`)):(a(),i("Error Occurred!"),n(!0),o(!0),setTimeout(()=>{o(!1)},2e3)),console.log(v)};return e.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50"},e.createElement("div",{className:"bg-white rounded-lg shadow-md w-full max-w-sm p-5"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(ot,{className:"text-red-400 text-2xl"}),e.createElement("h2",{className:"font-Outfit font-semibold text-lg text-black"},"Confirm Deletion")),e.createElement("p",{className:"font-Outfit text-gray-700 text-sm mb-6 leading-relaxed"},"Are you sure you want to delete this slide? This action cannot be undone."),e.createElement("div",{className:"flex justify-end gap-3"},e.createElement("button",{onClick:a,className:"px-3 font-Outfit cursor-pointer py-1.5 text-sm font-medium rounded-md border bg-red-500 text-white hover:bg-red-600 transition"},"Cancel"),e.createElement("button",{onClick:y,className:"px-3 font-Outfit cursor-pointer py-1.5 text-sm font-medium rounded-md bg-indigo-400 text-white hover:bg-indigo-500 transition"},"Delete"))))},St=({designTemplate:a,localOptions:s,localQuestion:c})=>{const n=t.useRef(null),i=t.useRef(null);return t.useEffect(()=>{i.current&&i.current.destroy();const o=n.current.getContext("2d"),u=s.every(l=>l.votes===0);return i.current=new ue(o,{type:"pie",data:{labels:s.map(l=>l.text),datasets:[{data:u?s.map(()=>1):s.map(l=>l.votes),backgroundColor:u?s.map(()=>"rgba(0,0,0,0.20)"):s.map(l=>l.color),borderWidth:1}]},options:{responsive:!0,plugins:{legend:{display:!1}},aspectRatio:1}}),()=>{i.current&&i.current.destroy()}},[s]),e.createElement("div",{className:"h-[550px] flex-1 flex flex-col justify-center pl-2 pr-2 transition-all ease-in-out duration-300"},e.createElement("div",{className:"w-full h-full flex flex-col justify-center mt-6 items-center"},e.createElement("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat ${a}`},e.createElement("div",{className:"w-full h-[10%] text-black font-Outfit text-2xl pt-7 pl-7"},e.createElement("h1",null,"Q) ",c)),e.createElement("div",{className:"w-full h-[90%] flex flex-col md:flex-row justify-center items-center gap-10 p-6"},e.createElement("div",{className:"w-[90%] md:w-[300px] h-[300px]"},e.createElement("canvas",{ref:n})),e.createElement("div",{className:"grid grid-cols-2 grid-rows-2 md:flex md: md:flex-row gap-4 md:gap-6 items-start md:items-center"},s.map(o=>e.createElement("div",{key:o._id,className:"flex items-center gap-3 flex-wrap justify-center"},e.createElement("span",{className:"w-6 h-6 rounded-full",style:{backgroundColor:o.color}}),e.createElement("p",{className:"text-lg font-Outfit font-medium text-gray-800"},o.text))))))))},Tt=({designTemplate:a,localOptions:s,localQuestion:c})=>{const n=t.useRef(null),i=t.useRef(null);return t.useEffect(()=>{i.current&&i.current.destroy();const o=n.current.getContext("2d"),u=s.every(l=>l.votes===0);return i.current=new ue(o,{type:"doughnut",data:{labels:s.map(l=>l.text),datasets:[{data:u?s.map(()=>1):s.map(l=>l.votes),backgroundColor:u?s.map(()=>"rgba(0,0,0,0.20)"):s.map(l=>l.color),borderWidth:1}]},options:{cutout:"50%",responsive:!0,plugins:{legend:{display:!1}}}}),()=>{i.current&&i.current.destroy()}},[s]),e.createElement("div",{className:"h-[550px] flex-1 pr-2 pl-2 flex flex-col justify-center transition-all ease-in-out duration-300"},e.createElement("div",{className:"w-full h-full mt-6 flex flex-col justify-center items-center"},e.createElement("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat ${a}`},e.createElement("div",{className:"w-full h-[10%] text-black font-Outfit text-2xl pt-7 pl-7"},e.createElement("h1",null,"Q) ",c)),e.createElement("div",{className:"w-full h-[90%] flex flex-col md:flex-row justify-center items-center gap-10 p-6"},e.createElement("div",{className:"w-[80%] sm:w-[60%] md:w-[300px] h-[70%] sm:h-[250px] md:h-[300px]"},e.createElement("canvas",{ref:n})),e.createElement("div",{className:"grid grid-cols-2 grid-rows-2 md:flex md: md:flex-row gap-4 sm:gap-6 items-start sm:items-center  sm:mt-0"},s.map(o=>e.createElement("div",{key:o._id,className:"flex items-center gap-3 flex-wrap justify-center"},e.createElement("span",{className:"w-6 h-6 rounded-full",style:{backgroundColor:o.color}}),e.createElement("p",{className:"text-lg font-Outfit font-medium text-gray-800"},o.text))))))))},zt=({currentQuestion:a,allQuestion:s,presentation:c,questionId:n,setAllQuestion:i})=>{const o=_(),[u,l]=t.useState("none"),[y,p]=t.useState(!1),[v,C]=t.useState(a.question||[]),[w,N]=t.useState(a.options||[]),[h,g]=t.useState(c.title||""),[j,O]=t.useState(a.designTemplate),[S,M]=t.useState(a.designType||""),[T,q]=t.useState(c._id),[$,L]=t.useState(!1),[D,F]=t.useState(""),[P,b]=t.useState(!1),[Q,k]=t.useState(""),[f,m]=t.useState(!1),[E,B]=t.useState(c.addedAdmin||[]),[I,R]=t.useState(!1),[G,J]=t.useState(a.Image||""),[W,ae]=t.useState(a.description||""),[ve,ye]=t.useState(s.length||0),[we,ke]=t.useState(1);let z=t.useRef(null);t.useEffect(()=>{C(a.question||""),N(a.options||[]),q(c._id||""),F(a._id||""),O(a.designTemplate||""),M(a.designType||""),B(c.addedAdmin||[]),J(a.Image||""),ae(a.description||""),g(c.title||""),ye(s.length||0),ke(a.order||1)},[a,D,c]);const Ce=()=>{switch(S){case"poll":return e.createElement(kt,{localOptions:w,localQuestion:v,designTemplate:j});case"ranking":return e.createElement(Ct,{localOptions:w,localQuestion:v,designTemplate:j});case"quiz":return e.createElement(jt,{localOptions:w,localQuestion:v,designTemplate:j});case"pie":return e.createElement(St,{localOptions:w,localQuestion:v,designTemplate:j});case"donut":return e.createElement(Tt,{localOptions:w,localQuestion:v,designTemplate:j})}},Y=t.useRef(null),je=(r,d)=>{N(x=>x.map((A,te)=>te===r?{...A,color:d}:A)),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(async()=>{try{const x=await fetch(`https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/questions/${n}/options/${r}/color`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({color:d})}),A=await x.json();x.ok?(N(A.options),console.log("success")):console.error(A.Message)}catch(x){console.error("Error updating color:",x)}},2e3)},se=t.useRef(null),Z=t.useRef(w),Oe=(r,d)=>{const x=w.map((A,te)=>te===r?{...A,text:d}:A);N(x),Z.current=x,clearTimeout(se.current),se.current=setTimeout(async()=>{try{(await fetch(`https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/questions/${n}/options`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({options:Z.current})})).ok&&console.log("✅ Saved:",Z.current)}catch(A){console.error("❌ Failed to save:",A)}},2e3)},X=t.useRef(null);function Se(r){C(r),X.current&&clearTimeout(X.current),X.current=setTimeout(async()=>{try{const d=await fetch(`https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/questions/${n}/editQuestion`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:r})}),x=await d.json();d.ok?(C(x.question),console.log("Successfull!")):console.log("Error")}catch(d){console.log("error : ",d)}},2e3)}const K=t.useRef(null),Te=r=>{g(r),K.current&&clearTimeout(K.current),K.current=setTimeout(async()=>{try{const d=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/presentation/editTitle",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentationId:T,presentationName:r})}),x=await d.json();d.ok?(b(!0),k("Successfully Changed!"),m(!0)):(b(!0),k(x?.message),m(!1))}catch(d){console.log("Error : ",d)}},2e3)},ne=75,le=r=>r.length>ne?r.slice(0,ne)+"...":r,re=async r=>{F(r),p(!1),o(`/App/AdminPanel/Presentation/${T}/${r}`)},oe=r=>{switch(r){case"poll":return e.createElement(ge,{className:"text-blue-400",size:16});case"ranking":return e.createElement(Ee,{color:"indigo",size:14});case"quiz":return e.createElement(he,{className:"text-red-400",size:16});case"pie":return e.createElement(Ne,{className:"text-orange-400",size:16});case"donut":return e.createElement(Ie,{className:"text-orange-400 text-lg"})}},[ze,Ae]=t.useState(null),qe=async r=>{const d=await fetch(`https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/question/${n}/deleteOption`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optionId:r})}),x=await d.json();d.ok?(b(!0),k("Successfully Deleted!"),m(!0),N(x.question.options||[]),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{b(!1)},[2e3])):(b(!0),m(!1),k(x.message),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{b(!1)},[2e3]))},Pe=async()=>{const r=await fetch(`https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/question/${n}/addOption`,{method:"POST",headers:{"Content-Type":"application/json"}}),d=await r.json();r.ok?(N(d.question.options),b(!0),m(!0),k("Successfully Added"),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{b(!1)},[2e3])):(b(!0),m(!1),k(d.message),z.current&&clearTimeout(z.current),setTimeout(()=>{b(!1)},[2e3]))},ee=t.useRef(null),$e=r=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(async()=>{const d=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/editDesignTemplate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newDesignTemplate:r,questionId:n})}),x=await d.json();d.ok&&O(x.question.designTemplate)},2e3)},Be=async r=>{if(!r)return;const d=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/AddAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userGmail:r,presentationId:T})}),x=await d.json();d.ok?(B(x.presentation.addedAdmin),k(x.message),m(!0),b(!0),setTimeout(()=>{b(!1)},2e3)):(k(x.message),m(!1),b(!0),setTimeout(()=>{b(!1)},3e3))},Ge=async r=>{const d=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/DeleteAddedAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,presentationId:T})}),x=await d.json();console.log(x),d.ok?(B(x.presentation.addedAdmin),k(x.message),m(!0),b(!0),setTimeout(()=>{b(!1)},2e3)):(k(x.message),m(!1),b(!0),setTimeout(()=>{b(!1)},3e3))},Me=()=>{switch(u){case"editQuestions":return e.createElement(ht,{setSelectedCorrect:Ae,selectedCorrect:ze,localQuestion:v,localOptions:w,handleColorChange:je,handleOptionChange:Oe,updateQuestion:Se,deleteOption:qe,addOption:Pe,designType:S,questionId:n,previewUrl:G,setPreviewUrl:J,setStatus:m,setDetails:k,setShowPopUp:b,Description:W,setDescription:ae,setLocalOptions:N});case"slideEditing":return e.createElement(Et,{updatePresentationName:Te,presentationName:h,deletePopUp:()=>R(!0),designTemplate:j,changeDesignTemplate:$e});case"addAdmin":return e.createElement(Nt,{AddAdminFun:Be,listOfAdmin:E,deleteAddedAdmin:Ge});default:return e.createElement("div",null)}};return e.createElement("div",{className:"relative h-screen"},e.createElement("div",{className:"bg-gray-200 relative h-[530px] w-screen  overflow-hidden overflow-y-hidden"},e.createElement("div",{className:"absolute top-5 left-4  bg-black pt-1 pb-1 pr-4 pl-4  rounded-3xl flex lg:hidden justify-center items-center gap-2",onClick:()=>p(!y)},e.createElement(tt,{className:"text-white flex lg:hidden"}),e.createElement("p",{className:"text-white font-Outfit"},we,"/",ve)),e.createElement("div",{className:`fixed top-0 left-0 h-full z-[999] pt-6 bg-white transition-all duration-500 ease-in-out transform ${y?"translate-x-0 opacity-100":"-translate-x-full opacity-0"} flex justify-center w-[40%]`},e.createElement("div",{className:"fixed md:hidden z-[99999] left-[105%] border p-2 bg-black rounded-full ",onClick:()=>p(!y)},e.createElement(at,{className:"text-white text-sm"})),e.createElement("div",{className:"flex  pr-5 pl-2 flex-col gap-4 items-center w-full"},e.createElement("button",{onClick:()=>L(!$),className:"flex justify-center text-[13px] gap-1 pt-2 pb-2 pr-6 pl-6 bg-stone-900 text-white items-center font-Outfit rounded-2xl"},e.createElement(ie,null),e.createElement("p",null,"New Slide")),e.createElement("div",{className:"h-screen flex flex-col gap-2 w-full overflow-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"}},s.map((r,d)=>e.createElement("div",{onClick:()=>re(r._id),key:r._id,className:"w-full h-20 flex justify-center gap-1 cursor-pointer"},e.createElement("p",{className:"font-Outfit text-xs pt-2"},d+1),e.createElement("div",{className:`w-full h-20 border-2 flex justify-center flex-col items-center ${D===r._id?"border-indigo-300":"border-gray-200"} rounded-xl bg-center ${r.designTemplate} bg-cover gap-1`},oe(r.designType),e.createElement("h1",{className:"text-[7px] text-center font-Outfit"},le(r.question)))))))),e.createElement("div",{className:"flex w-full h-full justify-center "},e.createElement("section",{className:" w-0 lg:w-[12%]  pt-6 hidden lg:flex justify-center"},e.createElement("div",{className:"flex  flex-col gap-4 items-center w-full"},e.createElement("button",{onClick:()=>L(!$),className:"flex justify-center text-[13px] gap-1 pt-2 pb-2 pr-6 pl-6 bg-stone-900 text-white items-center font-Outfit rounded-2xl cursor-pointer"},e.createElement(ie,null),"New Slide"),e.createElement("div",{className:" flex flex-col gap-2 w-full overflow-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"}},s.map((r,d)=>e.createElement("div",{onClick:()=>re(r._id),key:r._id,className:"w-full h-20 flex justify-center gap-1 cursor-pointer"},e.createElement("p",{className:"font-Outfit w-[7%] flex justify-center  text-xs pt-2"},d+1),e.createElement("div",{className:`w-[93%] h-20 border-2 flex justify-center flex-col items-center ${D===r._id?"border-indigo-300":"border-gray-200"} rounded-xl bg-center ${r.designTemplate} bg-cover gap-1`},oe(r.designType),e.createElement("h1",{className:"text-[8px] text-center font-Outfit"},le(r.question)))))))),Ce(),Me())),e.createElement("div",{className:`absolute top-[70px] left-3 justify-center items-center transition-all duration-500 ease-out
                    ${$?"pointer-events-auto":"pointer-events-none"}
  `},e.createElement(vt,{isVisible:$,onClose:()=>L(!1),presentationId:T})),e.createElement("div",{className:`absolute bottom-[15%] transition-all duration-500 ease-in-out  w-screen z-[100] flex ${P?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none opacity-0 translate-y-3"} justify-center items-center`},e.createElement(fe,{status:f,details:Q})),e.createElement("div",{className:"absolute w-screen left-0 bottom-[5%]"},e.createElement(wt,{editingSection:u,setEditingSection:l})),e.createElement("div",{className:`absolute transition-all duration-300 ease-in-out ${I?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}  w-screen h-screen top-0 left-0`},e.createElement(Ot,{presenetationId:T,setDetails:k,setStatus:m,setDisplay:b,setQuestion:i,questionId:n,onClose:()=>R(!1)})))},At=({question:a,onClose:s})=>{const[c,n]=t.useState(a.options||[]),[i,o]=t.useState(a.designTemplate||"");return t.useEffect(()=>{n(a.options||[]),o(a.designTemplate||"")},[a]),e.createElement("div",{className:`w-[90%] relative h-[90%] bg-center bg-no-repeat bg-cover flex flex-col justify-center items-center gap-10 ${i}`},e.createElement("div",{className:"w-full flex justify-center items-center"},e.createElement("img",{src:Je,className:"w-48",alt:""})),e.createElement("div",{className:"w-full flex flex-col gap-10 justify-center items-center"},e.createElement("div",{className:"w-full md:w-[80%] flex justify-center font-Outfit text-2xl"},"Q)",a.question),e.createElement("div",{className:"w-[80%] sm:w-[40%] flex flex-col gap-3 justify-center items-center"},c.map((u,l)=>e.createElement("div",{key:l,className:"w-full md:w-[80%] cursor-pointer hover:scale-105 transition-all ease-in-out text-white pl-6 flex items-center font-Outfit text-lg h-16 bg-black border border-black rounded-2xl"},u.text)))),e.createElement("div",{className:"absolute bottom-0 right-0 font-Outfit text-white bg-black pl-1 pt-1 pb-1"},e.createElement("p",null,"This is preview of the page where user interact, this might differ from real.")),e.createElement("div",{onClick:s,className:"absolute top-4 right-4 bg-red-500 cursor-pointer p-2 text-white rounded-full"},e.createElement(be,null)))},_t=()=>{const{presentationId:a,questionId:s}=He(),{userId:c}=Ve(),[n,i]=t.useState(!1),[o,u]=t.useState(""),[l,y]=t.useState(!1),[p,v]=t.useState([]),[C,w]=t.useState([]),[N,h]=t.useState([]),[g,j]=t.useState(!1),[O,S]=t.useState(!1),M=_(),[T,q]=t.useState(!1),[$,L]=t.useState(""),[D,F]=t.useState(""),[P,b]=t.useState(!1),[Q,k]=t.useState(!0),[f,m]=t.useState(!0),E=async(B,I)=>{try{m(!0);const R=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/searchQuestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentationId:B,userId:c})}),G=await R.json();if(!R.ok){k(!1);return}if(h(G.presentation),v(G.question),console.log(G.question),I){const J=G.question.find(W=>W._id===I);w(J||null)}else w(G.question[0]||null),M(`/App/AdminPanel/Presentation/${B}/${G.question[0]._id}`);m(!1)}catch(R){console.error("Error in findDetails:",R)}};return t.useEffect(()=>{E(a,s)},[a,s]),f?e.createElement("div",{className:"w-screen h-screen absolute top-0 left-0  flex justify-center items-center"},e.createElement("div",{className:"flex flex-col justify-center items-center gap-2"},e.createElement("div",{className:"h-10 w-10 border-4 border-gray-300 border-t-indigo-500 rounded-full animate-spin"}),e.createElement("h1",{className:"font-Outfit text-gray-800"},"Hang on! Loading Content"))):e.createElement("main",{className:"w-screen relative h-screen overflow-hidden bg-gray-200"},e.createElement("div",{className:"w-full h-full flex flex-col  items-center"},e.createElement("nav",{className:"w-full flex justify-center bg-white items-center h-16"},e.createElement("div",{className:"w-[97%] h-full flex justify-between"},e.createElement("div",{className:"flex justify-center gap-2 items-center"},e.createElement(Ue,{to:"/App/Admin/Home",className:" pr-2"},e.createElement(We,null)),e.createElement("div",{className:"font-Outfit relative text-[14px]"},e.createElement("p",null,"Vibrant Color Mixture"),e.createElement("p",{className:"text-[10px] text-stone-600 flex  justify-start items-center"},e.createElement(Ye,{size:16}),N.title)),e.createElement("div",{className:"h-5 w-1 border-r border-r-stone-200"}),e.createElement("div",{className:"h-7 w-7 flex bg-stone-200 justify-center items-center rounded-full"},e.createElement(Ze,{size:20}))),e.createElement("div",{className:" font-Outfit hidden md:flex justify-center items-center gap-8 text-sm"},e.createElement("div",{className:"h-full border-b-2 flex justify-center cursor-pointer items-center"},e.createElement("h1",{className:"pt-1 text-lg"},"Create"))),e.createElement("div",{className:"flex relative justify-center items-center gap-2"},e.createElement("div",{className:"flex md:hidden"},e.createElement("div",{className:"p-1 border border-stone-200 rounded-full bg-gray-200"},e.createElement(Xe,{className:"cursor-pointer",onClick:()=>q(!T)})),e.createElement("div",{className:`absolute transition-all ${T?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}  bg-white font-Outfit p-5  rounded-xl shadow-sm flex flex-col gap-3 top-12 z-[999999] -left-6 `},e.createElement("div",{onClick:()=>{j(!0),q(!1)},className:"flex justify-center cursor-pointer items-center"},e.createElement("h1",{className:"pt-1"},"Preview")),e.createElement("div",{onClick:()=>{S(!0),q(!1)},className:"border-b-transparent flex justify-center cursor-pointer items-center"},e.createElement("h1",{className:"pt-1"},"Report")))),e.createElement("div",{className:"hidden md:flex"},e.createElement("div",{className:"pt-1 pb-1 pl-4 pr-4 text-white text-sm font-Outfit cursor-pointer flex bg-indigo-400 justify-center items-center rounded-full",onClick:()=>j(!0)},e.createElement("p",{className:"flex justify-center items-center gap-1"},e.createElement(mt,{size:13})," Preview"))),e.createElement("div",{className:"h-5 w-1 border-r border-r-stone-200"}),e.createElement("div",{className:"hidden md:flex"},e.createElement("button",{onClick:()=>S(!0),className:"text-sm cursor-pointer flex justify-center items-center bg-gray-300 text-black font-Outfit rounded-2xl pt-1 pb-1 pr-4 pl-4 gap-1"},e.createElement(ct,{size:13}),"Report a Bug")),e.createElement("div",null,e.createElement("button",{onClick:()=>b(!P),className:"text-sm cursor-pointer bg-indigo-400 flex justify-center items-center gap-1 text-white font-Outfit rounded-2xl pt-1 pb-1 pr-4 pl-4"},e.createElement(pt,{size:13,color:"white"}),"Go Live"))))),e.createElement(zt,{setAllQuestion:v,questionId:s,presentation:N,allQuestion:p,currentQuestion:C}),e.createElement("div",{className:`absolute top-[70px] left-3 justify-center items-center transition-all duration-500 ease-out
                    ${P?"pointer-events-auto":"pointer-events-none"}
  `},e.createElement(bt,{isVisible:P,onClose:()=>b(!1),presentationId:a}))),e.createElement("div",{className:`absolute transition-all ease-in-out duration-500 top-0 ${g?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none "} bg-black/60 left-0 w-screen h-screen flex justify-center items-center `},e.createElement(At,{question:C,onClose:()=>j(!1)})),e.createElement("div",{className:`absolute top-0 left-0 w-screen h-screen ${Q?"hidden":"flex"}`},e.createElement("section",{className:"w-full h-screen flex flex-col items-center justify-center bg-stone-950/90 font-Outfit px-4"},e.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 flex flex-col items-center gap-6 text-center max-w-md w-full"},e.createElement(Ke,{className:"text-yellow-500 text-6xl"}),e.createElement("h1",{className:"text-2xl font-semibold text-stone-800"},"Unauthorized Access"),e.createElement("p",{className:"text-stone-500 text-sm"},"You do not have permission to access this page or perform this action. Please contact your administrator if you think this is an error."),e.createElement("button",{onClick:()=>M("/App/Admin/Home"),className:"mt-4 px-6 py-2 cursor-pointer bg-indigo-500 hover:bg-indigo-600 text-white rounded-md transition"},"Go Back Home")))),e.createElement("div",{className:`absolute top-0 left-0 w-screen h-screen transition-all ease-in-out duration-300 ${O?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`},e.createElement(it,{onClose:()=>S(!1),setDetails:u,setDisplayPopUp:i,setStatus:y})),e.createElement("div",{className:`absolute top-0 bottom-5 w-screen h-screen ${n?"opacity-100 translate-x-0 pointer-events-auto":"opacity-0 pointer-events-none translate-x-3"}`},e.createElement(fe,{status:l,details:o})))};export{_t as default};
