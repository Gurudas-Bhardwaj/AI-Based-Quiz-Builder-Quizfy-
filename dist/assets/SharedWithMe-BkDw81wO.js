import{a as N,u as y,r as s,R as e,A as w,F as v}from"./index-es2nNZ9l.js";import{e as S}from"./empty-B5aoBBx5.js";import{B as P,N as C,u as j,P as k,A}from"./AccountSettingPOPUP-ConVyIMq.js";import"./index-CJ8WaUJk.js";const Q=()=>{const h=N(),{userId:x}=y(),[n,i]=s.useState([]),[r,p]=s.useState(""),[o,g]=s.useState(""),[c,l]=s.useState(!1),[m,d]=s.useState(!1),[b,u]=s.useState(!1),E=async()=>{try{const t=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/handleQuestions/getSharedPresentations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:x})}),a=await t.json();t.ok?i(a.presentations):(i([]),console.error("Failed to fetch shared presentations"))}catch(t){console.error("Error fetching shared presentations:",t)}};s.useEffect(()=>{E()},[]),s.useEffect(()=>{const t=setTimeout(()=>g(r),300);return()=>clearTimeout(t)},[r]);const f=s.useMemo(()=>{if(!o.trim())return n;const t=o.trim().toLowerCase();return n.filter(a=>a.title.toLowerCase().includes(t)||a.owner&&a.owner.toLowerCase().includes(t)||a.description&&a.description.toLowerCase().includes(t))},[o,n]);return e.createElement("main",{className:"w-full min-h-screen bg-stone-50 font-Outfit"},e.createElement("div",{className:"max-w-6xl mx-auto px-6 py-7"},e.createElement("div",{className:"w-full flex justify-end pr-2 items-center"},e.createElement("div",{className:"flex h-full mr-5 items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement("div",{onClick:()=>{d(!m),l(!1)},className:"h-8 w-8 rounded-full flex justify-center items-center bg-stone-200 hover:bg-stone-300 cursor-pointer transition"},e.createElement("img",{src:P,className:"w-3",alt:"Bell"})),e.createElement(C,{display:m})),e.createElement("div",{className:"relative"},e.createElement("div",{className:"h-8 w-8 bg-indigo-300 hover:bg-indigo-400 transition cursor-pointer rounded-full flex justify-center items-center",onClick:()=>{l(!c),d(!1)}},e.createElement("img",{src:j,className:"w-4",alt:"User"})),e.createElement(k,{display:c,onClose:()=>l(!1),setSettingState:u})))),e.createElement("header",{className:"flex mt-8 flex-col sm:flex-row sm:items-center sm:justify-between mb-8"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-semibold text-stone-800"},"Shared Presentations"),e.createElement("p",{className:"text-sm text-stone-400 mt-1"},"Presentations shared with you by others."))),e.createElement("div",{className:"flex items-center gap-3 mb-8"},e.createElement("div",{className:"flex items-center w-full md:w-1/2 bg-white border border-stone-200 rounded-lg px-3 py-2"},e.createElement(w,{className:"text-stone-400 mr-3 text-sm"}),e.createElement("input",{type:"text",value:r,onChange:t=>p(t.target.value),placeholder:"Search shared presentations...",className:"w-full outline-none text-sm text-stone-400 bg-transparent focus:text-black focus:border-black","aria-label":"Search shared presentations"}))),f.length===0?e.createElement("div",{className:"bg-white border border-stone-200 rounded-xl p-10 flex flex-col items-center justify-center"},e.createElement("img",{src:S,alt:"empty",className:"h-28 mb-4"}),e.createElement("h2",{className:"text-lg font-medium text-stone-700"},"Nothing shared yet"),e.createElement("p",{className:"text-sm text-stone-400 mt-2"},"Presentations shared with you will appear here.")):e.createElement("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},f.map(t=>e.createElement("article",{key:t._id,className:"bg-white border border-stone-200 rounded-xl p-4 flex flex-col justify-between hover:border-indigo-200 transition-colors"},e.createElement("div",{className:"flex items-start gap-4 cursor-pointer",onClick:()=>h(`/App/AdminPanel/Presentation/${t._id}`)},e.createElement("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-50 border border-indigo-100 rounded-md"},e.createElement(v,{className:"text-indigo-500 text-xs"})),e.createElement("div",null,e.createElement("h3",{className:"text-base font-medium text-stone-800"},t.title),e.createElement("p",{className:"text-xs text-stone-400"},"Shared by ",t.owner," â€¢ ",new Date(t.createdAt).toLocaleDateString()),t.description&&e.createElement("p",{className:"text-sm text-stone-500 mt-1 line-clamp-2"},t.description))))))),e.createElement("div",{className:`w-screen bg-black/70 absolute transition-all ease-in-out duration-300 top-0 left-0 h-screen flex justify-center items-center ${b?"opacity-100 pointer-events-auto":"pointer-events-none opacity-0 "}`},e.createElement(A,{onClose:()=>u(!1)})))};export{Q as default};
