import{R as e,u as y,a as k,r as s}from"./index-C_DpItCy.js";import{I as q}from"./index-BFntY8cb.js";import{S as Y}from"./Slogan-ClQ6RCV4.js";const W="/assets/bell-B6TGxmbr.png",Z=o=>e.createElement("div",null,e.createElement("div",{className:`absolute z-10 transition-all  bg-white rounded-lg top-9 p-3 -left-[240px] sm:-left-[330px] ${o.display?"block":"hidden"}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.4)"}},e.createElement("div",null,e.createElement("div",{className:" pl-2"},e.createElement("h1",{className:"text-lg   font-Outfit text-gray-800"},"Notifications"))),e.createElement("div",{className:""},e.createElement("div",{className:"font-Outfit mt-10 mb-10 w-80 flex flex-col justify-center items-center"},e.createElement("p",{className:"font-bold text-xs "},"Nothing to Caught Up for now"),e.createElement("p",{className:"text-xs"},"You don't have any notifications."))))),G=o=>{const{userName:c,email:i,logout:m}=y(),l=k(),n=async()=>{try{(await fetch("https://quizidy-backend.duckdns.org/user/Logout",{method:"POST",credentials:"include"})).ok&&(localStorage.removeItem("accessToken"),await m(),l("/"))}catch(d){console.error("Logout failed",d)}};return e.createElement("div",{className:`absolute z-10 transition-all  top-9 -left-52 border pt-4 pb-4 pr-2 pl-2 border-white rounded-sm  bg-white ${o.display?"block":"hidden"}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.4)"}},e.createElement("div",{className:"w-full"},e.createElement("div",{className:"flex flex-col w-full pl-2"},e.createElement("p",{className:"font-Outfit text-sm "},c),e.createElement("p",{className:"font-Outfit text-xs text-gray-500"},i)),e.createElement("div",{className:"pt-4 w-52 pb-4 flex flex-col mt-3 pl-4 rounded-xl",style:{backgroundColor:"#e4f4e7"}},e.createElement("div",{className:"flex flex-col "},e.createElement("div",{className:"text-gray-900 text-[12px] font-Outfit"},"Ready for unlimited participants, exporting results and much more?")),e.createElement("div",{className:"w-full flex justify-end"},e.createElement("button",{className:"pt-1 pb-1 pl-4 pr-4 mr-3 text-white text-xs mt-2 bg-green-800 hover:bg-green-900 cursor-pointer transition-all rounded-2xl font-Outfit"},"Upgrade"))),e.createElement("div",{className:"flex gap-2 cursor-pointer flex-col mt-5"},e.createElement("button",{onClick:()=>{o.setSettingState(!0),o.onClose()},className:"text-sm w-full flex justify-start hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2"},e.createElement("p",null,"Account Settings")),e.createElement("div",{onClick:()=>l("/Billing"),className:"text-sm   hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2"},e.createElement("p",null,"Billing")),e.createElement("div",{className:"text-sm   hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2"},e.createElement("p",null,"Workspace setting")),e.createElement("div",{onClick:n,className:"text-sm  hover:bg-gray-100 rounded-sm cursor-pointer p-1  text-red-700 font-Outfit pl-2"},e.createElement("p",null,"Log out")))))},w="/assets/user_one-CYh54X37.png",H=({display:o,onClose:c})=>{const i=async()=>{const m=localStorage.getItem("accessToken"),l=await fetch("http://192.168.29.150:9000/user/DeleteUser",{method:"DELETE",headers:{Authorization:`Bearer ${m}`},credentials:"include"}),n=await l.json();l.ok||console.log(n),console.log(n),localStorage.removeItem("accessToken"),window.location.href="/"};return e.createElement("div",null,e.createElement("button",{className:"rounded-md bg-gray-950/5 px-2.5 py-1.5 text-sm font-semibold text-gray-900 hover:bg-gray-950/10"},"Open dialog"),e.createElement("div",{"aria-modal":"true","aria-labelledby":"dialog-title",className:"relative z-10"},e.createElement("div",{"aria-hidden":"true",className:"fixed inset-0 bg-stone-900/75 transition-opacity"}),e.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},e.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},e.createElement("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},e.createElement("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},e.createElement("div",{className:"sm:flex sm:items-start"},e.createElement("div",{className:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:size-10"},e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","data-slot":"icon","aria-hidden":"true",className:"size-6 text-red-600"},e.createElement("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z",strokeLinecap:"round",strokeLinejoin:"round"}))),e.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},e.createElement("h3",{id:"dialog-title",className:"text-base font-semibold text-gray-900"},"Delete account"),e.createElement("div",{className:"mt-2"},e.createElement("p",{className:"text-sm text-gray-500"},"Are you sure you want to Delete your account? All of your data will be permanently removed. This action cannot be undone."))))),e.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},e.createElement("button",{type:"button",className:"cursor-pointer inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:i},"Delete"),e.createElement("button",{type:"button",className:"cursor-pointer mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>c()},"Cancel")))))))},K=({onClose:o})=>{const[c,i]=s.useState(!1),[m,l]=s.useState(50),[n,d]=s.useState(""),C=k(),{userName:v,logout:S,refreshToken:T}=y(),[j,u]=s.useState(""),[P,p]=s.useState(!1),[D,r]=s.useState(!1),[g,E]=s.useState(""),[f,h]=s.useState(""),[x,N]=s.useState(""),[O,z]=s.useState(!1),[L,A]=s.useState(!1),[b,U]=s.useState(""),B=async()=>{try{(await fetch("https://quizidy-backend.duckdns.org/user/Logout",{method:"POST",credentials:"include"})).ok&&(localStorage.removeItem("accessToken"),await S(),C("/"))}catch(t){console.error("Logout failed",t)}};function M(t){const a=t.target.value;a.length<=50&&(d(a),l(50-a.length))}const $=async()=>{const t=await fetch("https://quizidy-backend.duckdns.org/user/UpdateName",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({name:n})}),a=await t.json();if(!t.ok){u(a.Message),r(!0),p(!1),setTimeout(()=>{r(!1)},2e3),console.log(a);return}localStorage.setItem("accessToken",a.accessToken),await T(),u(a.Message),p(!0),r(!0),z(!O),d(""),setTimeout(()=>{r(!1)},3e3)},I=async()=>{const t=await fetch("https://quizidy-backend.duckdns.org/user/UpdatePassword",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({currentPassword:g,newPassword:f,confirmPassword:x})}),a=await t.json();if(!t.ok){u(a.Message),r(!0),p(!1),setTimeout(()=>{r(!1)},2e3),console.log(a);return}u(a.Message),p(!0),r(!0),A(!L),E(""),h(""),N(""),setTimeout(()=>{r(!1)},3e3)};return e.createElement("div",{className:"fixed inset-0 h-screen z-[100] flex items-center justify-center"},e.createElement("div",{className:"bg-white w-[95%] h-[600px] md:w-3/4 lg:w-2/3 rounded-2xl shadow-xl overflow-hidden font-Outfit"},e.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b border-stone-100"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center border border-stone-200"},e.createElement("img",{src:w,alt:"avatar",className:"w-6 h-6"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-stone-800"},"Account settings"),e.createElement("p",{className:"text-xs text-stone-400"},"Manage your profile, password and security"))),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("button",{onClick:o,"aria-label":"Close settings",className:"p-2 rounded-md hover:bg-stone-200 cursor-pointer"},e.createElement(q,{className:"text-stone-700"})))),e.createElement("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("div",{className:"col-span-1 flex flex-col gap-4"},e.createElement("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center border border-indigo-100"},e.createElement("img",{src:w,alt:"avatar",className:"w-8 h-8"})),e.createElement("div",{className:"cursor-pointer"},e.createElement("div",{className:"text-sm font-medium text-stone-800"},v),e.createElement("div",{className:"text-xs text-stone-400"},"@",v.split(" ")[0]?.toLowerCase())))),e.createElement("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm text-sm text-stone-600"},e.createElement("div",{className:"mb-2 font-medium text-stone-800"},"Account"),e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",null,"Email"),e.createElement("span",{className:"text-xs bg-stone-100 px-2 py-1 rounded-full text-stone-500"},"Unverified")),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",null,"Member since"),e.createElement("span",{className:"text-xs text-stone-500"},"â€”"))))),e.createElement("div",{className:"col-span-2 flex h-[500px] pb-8 overflow-auto flex-col gap-4"},e.createElement("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("div",{className:"text-sm font-medium text-stone-800"},"Display name"),e.createElement("div",{className:"text-xs text-stone-400"},"Your public display name")),e.createElement("div",{className:"text-xs text-stone-400"},"Chars left: ",m)),e.createElement("div",{className:"mt-3 flex gap-3 items-center"},e.createElement("input",{value:n,onChange:M,placeholder:"Enter display name",className:"flex-1 px-3 py-2 border border-stone-200 rounded-md focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 text-sm bg-stone-100 focus:bg-white transition-colors duration-150 cursor-text","aria-label":"Display name"}),e.createElement("button",{onClick:$,className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${n.trim().length?"bg-indigo-500 text-white hover:bg-indigo-600":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!n.trim().length},"Save"))),e.createElement("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("div",{className:"text-sm font-medium text-stone-800"},"Change password"),e.createElement("div",{className:"text-xs text-stone-400"},"Keep your account secure"))),e.createElement("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3"},e.createElement("input",{value:g,onChange:t=>E(t.target.value),placeholder:"Current password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Current password"}),e.createElement("input",{value:f,onChange:t=>h(t.target.value),placeholder:"New password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"New password"}),e.createElement("input",{value:x,onChange:t=>N(t.target.value),placeholder:"Confirm password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Confirm password"})),e.createElement("div",{className:"mt-3"},e.createElement("button",{onClick:I,className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${f&&x&&g?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!(f&&x&&g)},"Update password"))),e.createElement("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("div",{className:"text-sm font-medium text-stone-800"},"Verify Your Account"),e.createElement("div",{className:"text-xs text-stone-400"},"By Verifying, you can later recover your account."))),e.createElement("div",{className:"mt-3 grid grid-cols-1 pr-10"},e.createElement("input",{value:b,onChange:t=>U(t.target.value),placeholder:"Enter you Email",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Email"})),e.createElement("div",{className:"mt-3"},e.createElement("button",{className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${b.includes("@gmail.com")||b.includes("@email.com")?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!b},"Send verification email"))),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm cursor-pointer"},"Delete account"),e.createElement("button",{onClick:B,className:"px-4 py-2 bg-indigo-400 text-white rounded-md text-sm cursor-pointer"},"Log out")))),e.createElement("div",{className:"p-4 border-t border-stone-100 text-sm text-stone-500"},"Manage your personal information and security settings here."),e.createElement("div",{className:`w-screen h-screen  fixed ${c?"opacity-100 pointer-events-auto":"opacity-0  pointer-events-none"} transition-all duration-300 ease-in-out w-screen z-[10000] top-0 left-0`},e.createElement(H,{display:c,onClose:()=>{i(!1)}})),e.createElement("div",{className:`fixed ${D?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-3 pointer-events-none"} transition-all duration-300 ease-in-out w-screen z-[10000] top-[80%] left-[40%]`},e.createElement(Y,{status:P,details:j}))))};export{K as A,W as B,Z as N,G as P,w as u};
