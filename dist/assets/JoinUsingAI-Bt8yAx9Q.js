import{r as n,u as N,a as v,R as e}from"./index-es2nNZ9l.js";import{b as S}from"./index-oAVH3PF_.js";import{h as z}from"./index-BdGVI7FM.js";const j=()=>{const[s,o]=n.useState(""),[p,c]=n.useState(!1),[g,r]=n.useState(!1),[x,i]=n.useState(!1),[y,d]=n.useState("Hello! How can i assist you today?"),{userName:b,userId:h}=N(),w=v(),E=async l=>{if(l.preventDefault(),s.length<3)return;c(!0);const m=await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/AIFeatures/sendMessageForAIPoweredQuiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});let a=(await m.json()).reply;o(""),typeof a=="string"&&a.includes("```")&&(a=a.replace(/```json|```/g,"").trim());let t;try{t=JSON.parse(a)}catch(u){console.error("JSON parse failed:",u),t={status:"ERROR",reply:"⚠️Something went wrong!"}}if(t?.status=="ERROR"||t?.status=="OK")r(!0),d(t.reply);else if(t.length>0||t?.status==="QUESTION"){console.log("user question"),i(!0);const f=await(await fetch("https://ai-based-quiz-builder-quizfy-backend.onrender.com/AIFeatures/AddQuestionGeneratedByAI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions:t,userId:h,userName:b})})).json();console.log(f),m.ok?(i(!1),w(`/Quiz/AIQuiz/${f.presentationId}`)):(i(!1),r(!0),d("⚠️Something went wrong while creating quiz. Please try again."))}c(!1),console.log(t)};return p?e.createElement("div",{className:"fixed inset-0 w-screen h-screen bg-white flex flex-col justify-center items-center z-50 gap-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"h-14 w-14 rounded-full border-4 border-indigo-200"}),e.createElement("div",{className:"h-14 w-14 rounded-full border-4 border-indigo-500 border-t-transparent animate-spin absolute top-0 left-0"})),e.createElement("p",{className:"text-gray-600 font-Outfit animate-pulse text-sm"},"Sending your prompt… Please wait.")):g?e.createElement("div",{className:"fixed inset-0 w-screen h-screen bg-stone-950/80 flex items-center justify-center z-50 animate-fadeIn"},e.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-[90%] max-w-md flex flex-col items-center text-center gap-6"},e.createElement(z,{className:"text-green-500 text-6xl animate-bounce"}),e.createElement("h1",{className:"text-2xl font-semibold text-stone-800"},"Reply From Quizify"),e.createElement("p",{className:"text-stone-600 text-sm leading-relaxed"},y),e.createElement("button",{onClick:()=>r(!1),className:"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-all duration-200"},"Understood"))):x?e.createElement("div",{className:"fixed inset-0 w-screen h-screen bg-white flex flex-col justify-center items-center z-50 gap-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"h-14 w-14 rounded-full border-4 border-indigo-200"}),e.createElement("div",{className:"h-14 w-14 rounded-full border-4 border-indigo-500 border-t-transparent animate-spin absolute top-0 left-0"})),e.createElement("p",{className:"text-gray-600 font-Outfit animate-pulse text-sm"},"Building up your Quiz. Wait for some time....")):e.createElement("main",{className:"flex flex-col items-center justify-center h-screen bg-white font-[Outfit] text-gray-800 px-4"},e.createElement("div",{className:"flex flex-col items-center text-center mb-10"},e.createElement("h1",{className:"text-4xl font-semibold bg-gradient-to-r from-indigo-500 to-indigo-700 bg-clip-text text-transparent mb-2"},"Quizify AI"),e.createElement("p",{className:"text-gray-500 text-sm"},"Give a prompt and let AI create a quiz and join as a user and answer them all!")),e.createElement("form",{className:"w-full max-w-2xl flex items-center bg-gray-50 border border-gray-200 rounded-3xl px-4 py-3 shadow-md focus-within:ring-2 focus-within:ring-indigo-300 transition"},e.createElement("input",{type:"text",placeholder:"Generate 10 hard level SSC Questions",value:s,onChange:l=>o(l.target.value),className:"flex-1 bg-transparent outline-none px-3 text-gray-700 placeholder-gray-400"}),e.createElement("button",{onClick:E,type:"submit",className:"text-indigo-500 hover:text-indigo-600 ml-3 transition"},e.createElement(S,{className:"text-xl"}))),e.createElement("div",{className:"text-xs text-gray-400 mt-6 text-center"},"Quizify AI can only generate quiz type questions based on your prompts and you can directly answer them.",e.createElement("br",null),"The AI Generated quiz that you will join and solve will be available in My Presentation Section."))};export{j as default};
